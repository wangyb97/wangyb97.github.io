---
title: 正则表达式
tags: programming_skills
excerpt_type: html
---

## 正则表达式常用：

### 转义符号

| 特殊字符 | 正则表达式 | 记忆方式 |
| -------- | ---------- | -------- |
| 换行符   | \n         | new line |
| 空白符   | \s         | space    |

### 边界符号

单词是构成句子和文章的基本单位，一个常见的使用场景是把文章或句子中的特定单词找出来。如：

```vim
The cat scattered his food all over the room.
```

我想找到`cat`这个单词，但是如果只是使用`/cat/`这个正则，就会同时匹配到`cat`和`scattered`这两处文本。这时候我们就需要使用边界正则表达式`\b`，其中b是boundary的首字母。在正则引擎里它其实匹配的是能构成单词的字符(\w)和不能构成单词的字符(\W)中间的那个位置。

上面的例子改写成`/\bcat\b/`这样就能匹配到`cat`这个单词了。

<img src="../../../Typora/mydocument/前端/image-20230504163938953.png" alt="image-20230504163938953"  />

### 回溯引用

所谓回溯引用（backreference）指的是模式的后面部分引用前面已经匹配到的子字符串。你可以把它想象成是变量，回溯引用的语法像`\1`,`\2`,....,其中`\1`表示引用的第一个子表达式，`\2`表示引用的第二个子表达式，以此类推。而`\0`则表示整个表达式。

1. ##### 假设现在要在下面这个文本里匹配两个连续相同的单词，你要怎么做呢？

```vim
Hello what what is the first thing, and I am am scq000.
```

利用回溯引用，我们可以很容易地写出`\b(\w+)\s\1`这样的正则。

**原因**：`\1` 就是将第一个括号里面的替换成到这里来，`\2`就是第二个括号，免除了重复写一样的东西，就是`\b(\w+)\s\1 `等价于`\b(\w+)\s\w+`

| 特殊字符                                  | 正则表达式 | 记忆方式     |
| ----------------------------------------- | ---------- | ------------ |
| 包括下划线在内的单个字符，[A-Z a-z 0-9_ ] | \w         | **w**ord     |
| 1次或无数次                               | +          | **一加**, +1 |

2. ##### 回溯引用在替换字符串中十分常用，语法上有些许区别，用`$1`,`$2`...来引用要被替换的字符串。下面以js代码作演示：

```js
var str = 'abc abc 123';
str.replace(/(ab)c/g,'$1g');
// 得到结果 'abg abg 123'
```

replace第一个参数表示需要被替换的内容，第一个参数表示要替换成的内容。

$1代表第一个括号(ab)，`/regex/`后的g代表全局替换。

### 电话号码小例子

```js
"010-123-4567".replace(/(\d{3})(-)(\d{3})(-)(\d{4})/,"($1)$2$3$5");
```

这是一个 JavaScript 代码片段，它使用正则表达式将字符串 "010-123-4567" 格式化为 "(010)123-4567" 的形式。

更具体地说，正则表达式 `/(\d{3})(-)(\d{3})(-)(\d{4})/` 匹配由三个数字、一个破折号、三个数字、一个破折号和四个数字组成的字符串。括号将匹配的部分分组，`$1、$2、$3、$4 和 $5` 是对应的分组。

接下来，`replace()` 方法将匹配到的字符串替换为 `($1)$2$3$5`，其中 `$1` 表示第一组（即前三个数字），`$2` 表示第二组（即破折号），`$3` 表示第三组（即中间的三个数字），`$5` 表示第五组（即最后的四个数字），从而得到了格式化后的电话号码字符串。

### **参考**

[正则表达式不要背](https://juejin.cn/post/6844903845227659271#heading-9)（可用作手册）

[正则表达式-5.回溯引用](https://cloud.tencent.com/developer/article/1437020)